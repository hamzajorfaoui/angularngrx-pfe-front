

<app-portlet title="Gestion des Actualité">


    <div class="tableau" >
        <h6 style="color:#348f6cec;">Ajouter Une Actualité :</h6>
        <form  (submit)="onFormSubmit($event)">
            <dx-form id="form"
                [formData]="dataSource">
                
                <dxi-item dataField="title">
                    <dxi-validation-rule 
                            type="required">
                    </dxi-validation-rule> 
                </dxi-item>
                <dxi-item dataField="contenu" editorType="dxTextArea" 
                [editorOptions]="{height:'90'}" >
                    <dxi-validation-rule 
                            type="required">
                    </dxi-validation-rule> 
                </dxi-item>

                <dxi-item name="show-order" dataField="filieres">
                    <dxo-label text="Choisissez les filieres :" ></dxo-label>
                    <div *dxTemplate  >
                     <div *ngFor="let dept of dataSource"  style="display: inline-block;">
                        <h6>{{dept.text}} :</h6>

                        <dx-list
                        *ngIf="dept.selectedItems"
                        [items]="dept.filiere"
                        [height]="180"
                        [width]="200"
                        [itemDeleteMode]="deleteType"
                        [showSelectionControls]="true"
                        selectionMode="multiple"
                        [(selectedItems)]="dept.selectedItems">

                        <dxi-validation-rule 
                            type="required">
                    </dxi-validation-rule> 
                    </dx-list>
                     </div>   
                   </div>
                </dxi-item>
                   <dxi-item 
                   *ngIf="!loading"
                    id="buttonsubmit"
                    caption="Update"
                    itemType="button"
                    horizontalAlignment="right"
                    [buttonOptions]="buttonOptions">
                    </dxi-item> 
                    
            </dx-form>
            <div *ngIf="loading" style="width: 100%;height:30px;">
              <div class="spinner-border text-success" role="status" style="float: right;">
                <span class="sr-only">Loading...</span>
            </div>  
            </div>
            
            </form>
    </div>

</app-portlet>